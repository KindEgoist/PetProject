Проект магазина - продажа товара.

Бизнес задача:
- Получение запроса на покупку товара
- Резервирование товара
- Оплата товара
- Продажа товара

Проект состоит из 6ти микросервисов:
- ConfigServer - хранение конфигураций
- EurekaServer - сервис регистрации и обнаружения микросервисов
- Gateway - API Gateway - единая точка входа во все микросервисы
- Payment - сервис оплаты товара
- Reserve - сервис резервирования товара
- Store - сервис магазина

Последовательность запуска микросервисов:
1. ConfigServer
2. EurekaServer
3. Gateway
4. и 5. Payment и Reserve (без разницы какой запускать первым)
6. Store

Бизнес логика:
1. Клиент отправляет запрос на покупку товара в Store
2. Store отправляет запрос на резервирование товара в Reserve
3. Reserve резервирует товар и отправляет запрос в Payment
4. Payment проверяет оплату и отправляет ответ в Reserve
5. Reserve получает ответ и отправляет ответ в Store
6. Store отправляет ответ клиенту
7. Клиент получает ответ о покупке товара

Развернутая бизнес логика:
1. Клиент отправляет запрос на покупку товара в Store
   - Пример запроса:  
     {  
     "productId" : 1,  
     "quantity" : 2,  
     "accountId" : 6  
     }  
   Где:  
    productId - ID товара  
    quantity - количество товара  
    accountId - ID аккаунта клиента  
2. Store отправляет запрос на резервирование товара в Reserve
    - Обращается к Reserve. Если Reserve не доступен, то Store отправляет
      "Резерв-сервис временно недоступен (fallback)"
    - Пример запроса:  
      {  
      "productId" : 1,  
      "quantity" : 2  
      }
3. Reserve резервируем товар
    - Получаем запрос от Store
    - Проверяем ID товара, если товара нет, то отправляем ответ
      {
      "success": false,
      "message": "Продукт с ID 5 не найден",
      "price": 0
      }
    - Если с ID товар есть, то проверяем количество товара на складе.  
      Если товара на складе больше или равно запрашиваемому количеству, то резервируем товар.  
      {  
      "success": true,  
      "message": "Продукт зарезервирован",  
      "price": 1200  
      }  
      Иначе   
      {  
      "success": false,  
      "message": "Продукт не зарезервирован. Запрашиваемое количества товара больше чем на складе",  
      "price": 0  
      }
    - Все ответы отправляются в Store
4. Store принимает ответ от Reserve
    - Идет проверка на непредвиденные случаи 
    - Если резервирование удалось, то в Store перемножается сумма за единицу товара на количества запроса 
   от пользователя
5. Store отправляет запрос на резервирование товара в Payment
   - Обращается к Payment. Если Payment не доступен, то Store отправляет
     "Оплата не доступна (fallback)"
   - Пример запроса:  
     {
     "accountId" : 6,
     "amount" : 2400,
     "productId" : 1,
     "quantity" : 2
     }
6. Payment проверяет оплату
    - Получаем запрос от Store
    - Проверяем ID аккаунта, если аккаунта нет, то отправляем ответ
      {
      "success": false,
      "message": "Акаунт с ID 1000 не найден"
      }
    - Если с ID аккаунт есть, то проверяем баланс аккаунта.  
      Если баланса аккаунта меньше запрашиваемой суммы, то получаем ответ:  
      false, "Недостаточно средств"
      Иначе   
      списываем сумму со счета
7. Payment отправляет запрос в Reserve
   - Обращается к Reserve. Если Reserve не доступен, то Payment отправляет
     false, "Резерв-сервис временно недоступен (fallback)"
   - Пример запроса:  
     {
     "productId" : 1,
     "quantity" : 2
     }
8. Reserve снимает резерв с товара
    - Получаем запрос от Payment
    - Проверяем ID товара, если товара нет, то отправляем ответ
      {
      "success": false,
      "message": "Продукт с ID 5 не найден"
      }
    - Если с ID товар есть, то проверяем количество товара на складе.  
      Если товара на складе больше или равно запрашиваемому количеству, то снимаем резерв с товара и продаем.  
      "Продукт продан"
      Иначе   
      "Недостаточно товара в резерве"
    - Отправляем ответ в Payment
9. Payment получает ответ от Reserve
    - Идет проверка на непредвиденные случаи
      "Не удалось подтвердить резерв на складе"
    - Если все хорошо, то:
      "Оплата прошла успешно" и отправляет ответ в Store
10. Store получает ответ от Payment
    - Идет проверка на непредвиденные случаи и непрошедший результат оплаты. Срабатывает откат резерва.
    - Если все хорошо, то:
      "Покупка успешно завершена!"
   
    